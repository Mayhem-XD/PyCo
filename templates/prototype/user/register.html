<!DOCTYPE html>
<html lang="ko">
<head>
    <title>회원가입</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/fdb840a8cc.js" crossorigin="anonymous"></script>
	<script src="{{url_for('static',filename='js/user_ajax.js')}}"></script>
	<script>
		function updateEmail() {
			var emailInput = document.querySelector('#email');
			var emailSelect = document.querySelector('#emailDomain');
			emailInput.value = emailInput.value.split('@')[0] + emailSelect.value;
		}
		</script>
    <style>
        * { font-family: 'Noto Sans KR', sans-serif; }
        a { text-decoration: none; }
        th, td { text-align: center; }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
        <div class="container-fluid">
            <a href="/"><img src="{{ url_for('static', filename='img/main_logo.png') }}" style="height:60px;" class="rounded-3 mx-2"></a>
            <div class="p-2 bg-dark justify-content-center rounded">
                <img src="https://picsum.photos/1800/200" width="100%">
            </div>
        </div>
    </nav>

    <div class="container" style="margin-top: 300px;">
        <div class="row">
        	<div class="col-3"></div>
            <div class="col-6">
            	<h3><strong>회원 가입</strong></h3>
            	<hr>
	            <form action="/user/register" method="post" enctype="multipart/form-data">
	                <table class="table table-borderless">
	                    <tr>
	                        <td style="width:35%"><label class="col-form-label">사용자 ID</label></td>
	                        <td style="width:65%"><input type="text" name="uid" id="uid" class="form-control" placeholder="3글자 이상 입력하세요"></td>
	                    </tr>
	                    <tr>
							<td><label class="col-form-label">중복 확인</label></td>	                		
	                		<td><span style="font:20px" id="uidCheckMsg"></span></td>
	                	</tr>
	                    <tr>
	                        <td><label class="col-form-label">패스워드</label></td>
	                        <td><input type="password" name="pwd" id="pwd" class="form-control"></td>
	                    </tr>
	                    <tr>
	                        <td><label class="col-form-label">패스워드 확인</label></td>
	                        <td><input type="password" name="pwd2" id="pwd2" class="form-control"></td>
	                    </tr>
	                    <tr>
	                        <td><label class="col-form-label">이름</label></td>
	                        <td><input type="text" name="uname" class="form-control"></td>
	                    </tr>
	                    <tr>
						    <td><label class="col-form-label">이메일</label></td>
						    <td>
						        <div class="input-group">
						            <input type="text" name="email" id="email" class="form-control">
						            <select class="form-select" name="emailDomain" id="emailDomain" onchange="updateEmail()">
						                <option selected>@DOMAIN.com</option>
						                <option>@gmail.com</option>
						                <option>@naver.com</option>
						                <option>@yahoo.com</option>
						                <option>@empas.com </option>
						                <option>@msn.com</option>
						            </select>
						        </div>
						    </td>
						</tr>
						<tr>
	                        <td><label class="col-form-label">사진</label></td>
	                        <td><input type="file" name="profile" class="form-control"></td>
	                    </tr>
	                    <tr>
	                        <td><label class="col-form-label">주소</label></td>
	                        <td><input type="text" name="addr" class="form-control"></td>
	                    </tr>
	                    <tr>
	                        <td colspan="2" style="text-align: center;">
	                            <input class="btn btn-primary" type="submit" value="제출">
	                            <input class="btn btn-secondary ms-1" type="reset" value="취소">
	                        </td>
	                    </tr>
	                </table>
	            </form>
            </div>
            <div class="col-3"></div>
        </div>
    </div>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <script>
                alert("{{ messages[-1] }}")
            </script>
        {% endif %}
    {% endwith %}
</body>
</html>
